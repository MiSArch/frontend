# Fragments:

fragment taxRateVersion on TaxRateVersion {
  id
  rate
  version
  createdAt
}

# Queries:

# TODO
query getTaxRates($first: Int, $skip: Int, $orderBy: TaxRateOrderInput) {
    taxRates(first: $first, skip: $skip, orderBy: $orderBy) {
        totalCount
        hasNextPage
        nodes {
            id
            name
            description
        }
    }
}

# TODO
query getTaxRatesWithVersions($first: Int, $skip: Int, $orderBy: TaxRateOrderInput) {
    taxRates(first: $first, skip: $skip, orderBy: $orderBy) {
        totalCount
        hasNextPage
        nodes {
            id
            name
            description
            currentVersion {
                id
            }
            versions {
                totalCount
                nodes {
                    ... taxRateVersion
                }
            }
        }
    }
}

# TODO
query getTaxRatesWithCurrentVersion($first: Int, $skip: Int, $orderBy: TaxRateOrderInput) {
    taxRates(first: $first, skip: $skip, orderBy: $orderBy) {
        totalCount
        hasNextPage
        nodes {
            id
            name
            description
            currentVersion {
                ... taxRateVersion
            }
        }
    }
}

# TODO
query getTaxRate($id: UUID!, $firstVersions: Int, $skipVersion: Int, $orderByVersions: TaxRateVersionOrderInput) {
  taxRate(id: $id) {
    id
    name
    description
    currentVersion {
      ...taxRateVersion
    }
    versions(first: $firstVersions, skip: $skipVersion, orderBy: $orderByVersions) {
      totalCount
      nodes {
        ...taxRateVersion
      }
    }
  }
}

fragment taxRateVersion on TaxRateVersion {
  id
  rate
  version
  createdAt
}

fragment taxRateVersion on TaxRateVersion {
  id
  rate
  version
  createdAt
}

# Mutations:

# TODO
mutation createTaxRate($input: CreateTaxRateInput!) {
  createTaxRate(input: $input) {
    id
  }
}

# TODO
mutation createTaxRateVersion($input: CreateTaxRateVersionInput!) {
  createTaxRateVersion(input: $input) {
    id
  }
}

# TODO
mutation updateTaxRate($input: UpdateTaxRateInput!) {
  updateTaxRate(input: $input) {
    id
  }
}
